<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gu√≠a Completa de LoRa, Meshtastic, Meshcore, ESP32, LILYGO y Redes de Malla</title>
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- React y ReactDOM CDNs -->
  <script src="https://unpkg.com/react@18.3.1/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18.3.1/umd/react-dom.production.min.js"></script>
  <!-- Babel CDN -->
  <script src="https://unpkg.com/@babel/standalone@7.25.7/babel.min.js"></script>
  <!-- html2pdf.js CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <style>
    body { background-color: #f3f4f6; font-family: Arial, sans-serif; }
    #loading { display: block; text-align: center; padding: 20px; color: #374151; }
    #fallback { display: none; padding: 20px; }
    .video-container { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; }
    .video-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
    @media (max-width: 640px) { table { font-size: 0.875rem; } th, td { padding: 0.5rem; } }
    /* Estilos para modo oscuro */
    .dark body { background-color: #1f2937; color: #e5e7eb; }
    .dark footer { background-color: #111827; }
    .dark nav { background-color: #1e3a8a; }
    .dark .bg-blue-600 { background-color: #1e40af; }
    .dark .text-blue-600 { color: #60a5fa; }
    .dark .hover\:bg-blue-700:hover { background-color: #1e3a8a; }
    .dark table { background-color: #374151; }
    /* Estilos para impresi√≥n */
    @media print {
      nav, footer, button.fixed, input { display: none; }
      section { page-break-before: always; }
    }
  </style>
</head>
<body>
  <div id="loading">Cargando la p√°gina...</div>
  <div id="fallback">
    <h1>Gu√≠a de Redes de Malla</h1>
    <p>Error al cargar la p√°gina. Verifica tu conexi√≥n a internet o usa un servidor local (ej.: npx http-server).</p>
    <p>Consulta la consola del navegador (F12) para m√°s detalles.</p>
  </div>
  <div id="root"></div>
  <script type="text/babel">
    // Componente de Navegaci√≥n
    const Navbar = () => (
      <nav className="bg-blue-600 dark:bg-blue-900 text-white p-4 shadow-md fixed w-full top-0 z-10">
        <div className="container mx-auto flex justify-between items-center">
          <h1 className="text-2xl font-bold">Gu√≠a de Redes de Malla</h1>
          <div className="flex space-x-4 items-center">
            <a href="#lora" className="hover:underline">LoRa</a>
            <a href="#meshtastic" className="hover:underline">Meshtastic</a>
            <a href="#meshcore" className="hover:underline">Meshcore</a>
            <a href="#esp32" className="hover:underline">ESP32</a>
            <a href="#lilygo" className="hover:underline">LILYGO</a>
            <a href="#equipos" className="hover:underline">Equipos</a>
            <a href="#videos" className="hover:underline">Videos</a>
            <a href="#faq" className="hover:underline">FAQ</a>
            <Search />
            <DownloadPDF />
            <ThemeToggle />
          </div>
        </div>
      </nav>
    );

    // Componente de B√∫squeda
    const Search = () => {
      const [query, setQuery] = React.useState('');
      const handleSearch = (e) => {
        setQuery(e.target.value);
        const elements = document.querySelectorAll('section p, section li, section h2, section h3');
        elements.forEach(el => {
          el.style.backgroundColor = '';
          if (query && el.textContent.toLowerCase().includes(query.toLowerCase())) {
            el.style.backgroundColor = '#fef08a';
            el.scrollIntoView({ behavior: 'smooth', block: 'center' });
          }
        });
      };
      return (
        <input
          type="text"
          placeholder="Buscar en la p√°gina..."
          value={query}
          onChange={handleSearch}
          className="p-2 rounded-md bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100"
        />
      );
    };

    // Componente para Descargar PDF
    const DownloadPDF = () => {
      const handleDownload = () => {
        console.log('Iniciando descarga de PDF...');
        if (typeof html2pdf === 'undefined') {
          console.error('Error: html2pdf.js no est√° cargado. Verifica el CDN o la conexi√≥n a internet.');
          alert('No se puede generar el PDF. La biblioteca html2pdf.js no est√° disponible. Verifica tu conexi√≥n a internet o desactiva bloqueadores de anuncios.');
          return;
        }
        try {
          const element = document.getElementById('root');
          if (!element) {
            console.error('Error: No se encontr√≥ el elemento con id "root".');
            alert('Error al generar el PDF: No se encontr√≥ el contenido de la p√°gina.');
            return;
          }
          const opt = {
            margin: 0.5,
            filename: 'Guia_Redes_Malla.pdf',
            image: { type: 'jpeg', quality: 0.98 },
            html2canvas: { scale: 1.5 },
            jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
          };
          html2pdf().from(element).set(opt).save();
          console.log('PDF generado exitosamente.');
        } catch (error) {
          console.error('Error al generar el PDF:', error);
          alert('Error al generar el PDF: ' + error.message + '. Consulta la consola del navegador (F12) para m√°s detalles.');
        }
      };
      return (
        <button 
          onClick={handleDownload} 
          className="text-white hover:underline"
        >
          Descargar como PDF
        </button>
      );
    };

    // Componente para Cambiar Modo (Sol/Luna)
    const ThemeToggle = () => {
      const [isDark, setIsDark] = React.useState(document.documentElement.classList.contains('dark'));
      const toggleTheme = () => {
        document.documentElement.classList.toggle('dark');
        setIsDark(!isDark);
      };
      return (
        <button 
          onClick={toggleTheme} 
          className="text-white text-2xl p-2 rounded-full hover:bg-blue-700 dark:hover:bg-blue-800"
          title={isDark ? 'Cambiar a modo claro' : 'Cambiar a modo oscuro'}
        >
          {isDark ? '‚òÄ' : 'üåô'}
        </button>
      );
    };

    // Componente de Secci√≥n
    const Section = ({ id, title, children }) => (
      <section id={id} className="pt-20 pb-8 px-4">
        <div className="container mx-auto">
          <h2 className="text-3xl font-semibold mb-4">{title}</h2>
          {children}
        </div>
      </section>
    );

    // Componente de Tabla de Equipos
    const EquipmentTable = () => (
      <div className="overflow-x-auto">
        <table className="min-w-full bg-white dark:bg-gray-700 shadow-md rounded-lg">
          <thead>
            <tr className="bg-blue-600 dark:bg-blue-900 text-white">
              <th className="py-2 px-4">Dispositivo</th>
              <th className="py-2 px-4">Marca</th>
              <th className="py-2 px-4">Microcontrolador</th>
              <th className="py-2 px-4">Caracter√≠sticas</th>
              <th className="py-2 px-4">Precio (USD)</th>
              <th className="py-2 px-4">Recomendado Para</th>
              <th className="py-2 px-4">Notas</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td className="border py-2 px-4">T-Beam</td>
              <td className="border py-2 px-4">LILYGO</td>
              <td className="border py-2 px-4">ESP32-S3</td>
              <td className="border py-2 px-4">LoRa SX1262, GPS (NEO-6M), pantalla OLED opcional, bater√≠a 18650, WiFi/BT, alcance hasta 15 km</td>
              <td className="border py-2 px-4">$20-30</td>
              <td className="border py-2 px-4">Principiantes, uso general</td>
              <td className="border py-2 px-4">Popular en 2025 por GPS. Usa antena externa para mejor alcance.</td>
            </tr>
            <tr>
              <td className="border py-2 px-4">WisBlock Starter Kit</td>
              <td className="border py-2 px-4">RAKwireless</td>
              <td className="border py-2 px-4">nRF52840</td>
              <td className="border py-2 px-4">LoRa SX1262, GPS opcional, modular (sensores, displays), bajo consumo, solar-ready, BT 5.0</td>
              <td className="border py-2 px-4">$40-60</td>
              <td className="border py-2 px-4">Redes grandes, solares</td>
              <td className="border py-2 px-4">Bater√≠a larga, ideal para off-grid.</td>
            </tr>
            <tr>
              <td className="border py-2 px-4">LoRa32 V3</td>
              <td className="border py-2 px-4">Heltec</td>
              <td className="border py-2 px-4">ESP32-S3</td>
              <td className="border py-2 px-4">LoRa SX1262, pantalla OLED, WiFi/BT, no GPS est√°ndar</td>
              <td className="border py-2 px-4">$15-25</td>
              <td className="border py-2 px-4">Econ√≥mico, compacto</td>
              <td className="border py-2 px-4">Mejorado en 2025, f√°cil flasheo.</td>
            </tr>
            <tr>
              <td className="border py-2 px-4">T-Echo</td>
              <td className="border py-2 px-4">LILYGO</td>
              <td className="border py-2 px-4">nRF52840</td>
              <td className="border py-2 px-4">LoRa SX1262, pantalla E-Ink, GPS, bater√≠a integrada, case incluido, BT 5.0</td>
              <td className="border py-2 px-4">$30-40</td>
              <td className="border py-2 px-4">Port√°til, emergencias</td>
              <td className="border py-2 px-4">Versi√≥n 2025 con case robusto.</td>
            </tr>
            <tr>
              <td className="border py-2 px-4">SenseCAP Card Tracker T1000-E</td>
              <td className="border py-2 px-4">Seeed Studio</td>
              <td className="border py-2 px-4">nRF52840</td>
              <td className="border py-2 px-4">LoRa LR1110, GPS, BT 5.1, preflasheado, sensores (temperatura, movimiento)</td>
              <td className="border py-2 px-4">$50-70</td>
              <td className="border py-2 px-4">Plug-and-play, tracking</td>
              <td className="border py-2 px-4">Listo para usar, ideal para principiantes.</td>
            </tr>
            <tr>
              <td className="border py-2 px-4">T-Deck</td>
              <td className="border py-2 px-4">LILYGO</td>
              <td className="border py-2 px-4">ESP32-S3</td>
              <td className="border py-2 px-4">LoRa SX1262, pantalla TFT, teclado, WiFi/BT, no GPS</td>
              <td className="border py-2 px-4">$25-35</td>
              <td className="border py-2 px-4">Mensajer√≠a directa</td>
              <td className="border py-2 px-4">Soporte de voz en desarrollo (2025).</td>
            </tr>
          </tbody>
        </table>
      </div>
    );

    // Componente de Tabla Comparativa Meshcore vs Meshtastic
    const ComparisonTable = () => (
      <div className="overflow-x-auto">
        <table className="min-w-full bg-white dark:bg-gray-700 shadow-md rounded-lg">
          <thead>
            <tr className="bg-blue-600 dark:bg-blue-900 text-white">
              <th className="py-2 px-4">Caracter√≠stica</th>
              <th className="py-2 px-4">Meshcore</th>
              <th className="py-2 px-4">Meshtastic</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td className="border py-2 px-4 font-semibold">Enrutamiento</td>
              <td className="border py-2 px-4">H√≠brido: Inundaci√≥n inicial, luego enrutamiento fijo. Solo repetidores retransmiten, reduciendo congesti√≥n. Soporta hasta 64 saltos.</td>
              <td className="border py-2 px-4">Inundaci√≥n gestionada con l√≠mite de 7 saltos. Todos los nodos retransmiten, lo que puede causar congesti√≥n.</td>
            </tr>
            <tr>
              <td className="border py-2 px-4 font-semibold">Confirmaci√≥n de entrega</td>
              <td className="border py-2 px-4">Confirmaci√≥n clara de entrega (s√≠/no) con intentos de env√≠o visibles. Cambia entre enrutamiento directo e inundaci√≥n si falla.</td>
              <td className="border py-2 px-4">Confirmaci√≥n ambigua (√≠cono de nube con check). No siempre garantiza entrega.</td>
            </tr>
            <tr>
              <td className="border py-2 px-4 font-semibold">Roles de dispositivos</td>
              <td className="border py-2 px-4">Fijos al flashear (Cliente, Repetidor, Room Server). No cambia sin reflasheo.</td>
              <td className="border py-2 px-4">Din√°micos (Cliente, Router, Cliente Mudo). Cambiables v√≠a app.</td>
            </tr>
            <tr>
              <td className="border py-2 px-4 font-semibold">Consumo energ√©tico</td>
              <td className="border py-2 px-4">Optimizado para bajo consumo. Clientes no retransmiten, mejorando duraci√≥n de bater√≠a.</td>
              <td className="border py-2 px-4">Mayor consumo si todos los nodos retransmiten. nRF52 m√°s eficiente que ESP32.</td>
            </tr>
            <tr>
              <td className="border py-2 px-4 font-semibold">Comunidad</td>
              <td className="border py-2 px-4">M√°s peque√±a, creciendo (ej.: Rep√∫blica Checa). Foro principal en Discord, menos soporte inmediato.</td>
              <td className="border py-2 px-4">Grande, establecida (miles de nodos, ej.: EE.UU.). Soporte en Discord, Reddit, GitHub.</td>
            </tr>
            <tr>
              <td className="border py-2 px-4 font-semibold">Compatibilidad de hardware</td>
              <td className="border py-2 px-4">Heltec, RAK Wireless, LILYGO. Menos dispositivos probados.</td>
              <td className="border py-2 px-4">Amplia: LILYGO, Heltec, RAK, Seeed Studio, etc. M√°s opciones.</td>
            </tr>
            <tr>
              <td className="border py-2 px-4 font-semibold">Integraciones</td>
              <td className="border py-2 px-4">Enfocado en comunicaci√≥n pura. Sin MQTT ni GPS en tiempo real por defecto (funciones premium).</td>
              <td className="border py-2 px-4">Soporte para MQTT, GPS en tiempo real, ATAK, sensores (ej.: SenseCAP).</td>
            </tr>
            <tr>
              <td className="border py-2 px-4 font-semibold">Licencia</td>
              <td className="border py-2 px-4">MIT, permite uso comercial (cerrado).</td>
              <td className="border py-2 px-4">GPL-3.0, requiere c√≥digo abierto para derivados.</td>
            </tr>
            <tr>
              <td className="border py-2 px-4 font-semibold">Costo</td>
              <td className="border py-2 px-4">App con funciones premium ($11). Hardware similar a Meshtastic.</td>
              <td className="border py-2 px-4">Gratis, solo costo de hardware ($15-70).</td>
            </tr>
            <tr>
              <td className="border py-2 px-4 font-semibold">Escalabilidad</td>
              <td className="border py-2 px-4">Dise√±ado para redes grandes con repetidores. Inundaci√≥n menos prioritaria en nodos distantes.</td>
              <td className="border py-2 px-4">Puede saturarse en redes grandes. Mejoras en curso (firmware 2.6).</td>
            </tr>
          </tbody>
        </table>
      </div>
    );

    // Componente de Recursos de Video
    const VideoResources = () => (
      <Section id="videos" title="Recursos de Video">
        <p className="mb-4">Explora estos videos para aprender m√°s sobre Meshtastic, su configuraci√≥n y c√≥mo construir nodos para redes de malla LoRa.</p>
        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <h4 className="font-semibold mb-2">Meshtastic Getting Started - Install, Configure, and Test!</h4>
            <div className="video-container">
              <iframe src="https://www.youtube.com/embed/igWP0O_VuUo" title="Meshtastic Getting Started" frameBorder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowFullScreen></iframe>
            </div>
            <p className="mt-2">Gu√≠a pr√°ctica para principiantes sobre c√≥mo instalar, configurar y probar dispositivos Meshtastic, incluyendo flasheo de firmware.</p>
          </div>
          <div>
            <h4 className="font-semibold mb-2">Mesh Networking with Meshtastic</h4>
            <div className="video-container">
              <iframe src="https://www.youtube.com/embed/851XMf3haww" title="Mesh Networking with Meshtastic" frameBorder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowFullScreen></iframe>
            </div>
            <p className="mt-2">Explicaci√≥n del funcionamiento de las redes de malla con Meshtastic y sus aplicaciones off-grid.</p>
          </div>
          <div>
            <h4 className="font-semibold mb-2">Getting Started with Meshtastic</h4>
            <div className="video-container">
              <iframe src="https://www.youtube.com/embed/6vVtKR6lEqA" title="Getting Started with Meshtastic" frameBorder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowFullScreen></iframe>
            </div>
            <p className="mt-2">Tutorial introductorio sobre Meshtastic, parte de una lista de reproducci√≥n con configuraciones avanzadas.</p>
          </div>
          <div>
            <h4 className="font-semibold mb-2">How to build a Meshtastic LoRa Mesh Network Node</h4>
            <div className="video-container">
              <iframe src="https://www.youtube.com/embed/0TF2JioaJbM" title="How to build a Meshtastic LoRa Mesh Network Node" frameBorder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowFullScreen></iframe>
            </div>
            <p className="mt-2">Gu√≠a detallada para construir un nodo Meshtastic con hardware LoRa, incluyendo selecci√≥n de componentes y configuraci√≥n.</p>
          </div>
        </div>
        <p className="mt-4">Si los videos no cargan, verifica tu conexi√≥n a internet o desactiva bloqueadores de anuncios.</p>
      </Section>
    );

    // Componente de Preguntas Frecuentes
    const FAQ = () => (
      <Section id="faq" title="Preguntas Frecuentes">
        <div className="space-y-4">
          <div>
            <h3 className="text-xl font-semibold">¬øQu√© frecuencia LoRa debo usar?</h3>
            <p>Usa 915 MHz en Am√©rica, 868 MHz en Europa, 433 MHz en Asia (verifica regulaciones locales). Consulta <a href="https://www.lora-alliance.org/" className="text-blue-600 dark:text-blue-400 hover:underline">LoRa Alliance</a>.</p>
          </div>
          <div>
            <h3 className="text-xl font-semibold">¬øC√≥mo flashear firmware Meshtastic?</h3>
            <p>Usa el Web Flasher en <a href="https://meshtastic.org/docs/getting-started/flashing-firmware/" className="text-blue-600 dark:text-blue-400 hover:underline">Meshtastic</a> o herramientas como Adafruit ESPTool para Meshcore (<a href="https://github.com/meshcore-dev/MeshCore" className="text-blue-600 dark:text-blue-400 hover:underline">GitHub</a>).</p>
          </div>
          <div>
            <h3 className="text-xl font-semibold">¬øPuedo usar Meshtastic y Meshcore juntos?</h3>
            <p>No, usan protocolos incompatibles en la misma banda (868/915 MHz). Elige uno seg√∫n tus necesidades (ver tabla Meshcore vs. Meshtastic).</p>
          </div>
          <div>
            <h3 className="text-xl font-semibold">¬øQu√© hardware recomiendan para principiantes?</h3>
            <p>LILYGO T-Beam ($20-30) es ideal por su GPS, LoRa SX1262 y bajo costo. Compra en <a href="https://www.lilygo.cc/" className="text-blue-600 dark:text-blue-400 hover:underline">LILYGO</a>.</p>
          </div>
        </div>
      </Section>
    );

    // Componente Principal
    const App = () => (
      <div>
        <Navbar />
        <Section id="lora" title="¬øQu√© es LoRa?">
          <p className="mb-4">La red LoRa (Long Range) es una tecnolog√≠a de comunicaci√≥n inal√°mbrica de baja potencia y largo alcance dise√±ada para el Internet de las Cosas (IoT). Permite la transmisi√≥n de datos a largas distancias (hasta 10-15 km en √°reas rurales y 2-5 km en √°reas urbanas) con un consumo energ√©tico m√≠nimo, lo que la hace ideal para dispositivos que funcionan con bater√≠as, como sensores o medidores inteligentes.</p>
          <h3 id="lora-caracteristicas" className="text-xl font-semibold mb-2">Caracter√≠sticas principales</h3>
          <ul className="list-disc pl-6 mb-4">
            <li><strong>Bajo consumo de energ√≠a</strong>: Los dispositivos LoRa pueden operar durante a√±os con una sola bater√≠a, ya que entran en modo de bajo consumo cuando no transmiten.</li>
            <li><strong>Largo alcance</strong>: Puede cubrir grandes distancias, superando a tecnolog√≠as como Wi-Fi o Bluetooth.</li>
            <li><strong>Baja tasa de datos</strong>: Est√° dise√±ada para enviar peque√±os paquetes de datos (como lecturas de sensores), no para aplicaciones que requieren alta velocidad, como streaming.</li>
            <li><strong>Modulaci√≥n robusta</strong>: Utiliza una t√©cnica de modulaci√≥n de espectro ensanchado (CSS) que mejora la resistencia a interferencias y permite comunicaciones fiables en entornos ruidosos.</li>
            <li><strong>Topolog√≠a en estrella</strong>: Los dispositivos se conectan a gateways (puertas de enlace) que act√∫an como intermediarios con la red central.</li>
          </ul>
          <h3 id="lora-vs-lorawan" className="text-xl font-semibold mb-2">LoRa vs. LoRaWAN</h3>
          <p className="mb-4"><strong>LoRa</strong> se refiere a la capa f√≠sica, es decir, la tecnolog√≠a de modulaci√≥n de radio. <strong>LoRaWAN</strong> es el protocolo de red basado en LoRa, que define c√≥mo los dispositivos se comunican, gestionan la seguridad y optimizan el uso de la red.</p>
          <h3 id="lora-aplicaciones" className="text-xl font-semibold mb-2">Aplicaciones comunes</h3>
          <ul className="list-disc pl-6 mb-4">
            <li><strong>Ciudades inteligentes</strong>: Monitoreo de tr√°fico, alumbrado p√∫blico, gesti√≥n de residuos.</li>
            <li><strong>Agricultura</strong>: Sensores de humedad, temperatura o calidad del suelo.</li>
            <li><strong>Log√≠stica</strong>: Seguimiento de activos y flotas.</li>
            <li><strong>Hogar inteligente</strong>: Dispositivos como medidores de agua o energ√≠a.</li>
          </ul>
          <h3 className="text-xl font-semibold mb-2">Ventajas</h3>
          <ul className="list-disc pl-6 mb-4">
            <li>Gran alcance y penetraci√≥n en interiores.</li>
            <li>Bajo costo de implementaci√≥n.</li>
            <li>Ideal para aplicaciones de IoT con datos peque√±os y poco frecuentes.</li>
          </ul>
          <h3 className="text-xl font-semibold mb-2">Limitaciones</h3>
          <ul className="list-disc pl-6 mb-4">
            <li>No es adecuada para aplicaciones que requieren alta velocidad o gran ancho de banda.</li>
            <li>La latencia puede ser alta en comparaci√≥n con otras tecnolog√≠as.</li>
          </ul>
          <p className="mb-4">Consulta el <a href="https://www.lora-alliance.org/" className="text-blue-600 dark:text-blue-400 hover:underline">Sitio oficial de LoRa Alliance</a> para m√°s informaci√≥n.</p>
        </Section>
        <Section id="meshtastic" title="¬øQu√© es Meshtastic?">
          <p className="mb-4">Meshtastic es un proyecto de c√≥digo abierto que utiliza la tecnolog√≠a LoRa para crear una red de comunicaci√≥n descentralizada, de bajo consumo y largo alcance, ideal para entornos sin acceso a internet o redes m√≥viles. Permite enviar mensajes de texto, compartir ubicaciones GPS y, en el futuro, transmitir mensajes de voz, sin depender de infraestructura de comunicaci√≥n tradicional.</p>
          <h3 id="meshtastic-caracteristicas" className="text-xl font-semibold mb-2">Caracter√≠sticas principales</h3>
          <ul className="list-disc pl-6 mb-4">
            <li><strong>Descentralizado y sin infraestructura</strong>: No requiere torres de telefon√≠a, Wi-Fi ni internet. Los dispositivos se conectan directamente entre s√≠, formando una red de malla donde cada nodo retransmite mensajes.</li>
            <li><strong>Largo alcance</strong>: Gracias a LoRa, Meshtastic puede alcanzar distancias de 10-15 km en l√≠nea de visi√≥n, y en casos excepcionales, hasta 331 km con condiciones √≥ptimas y antenas de alta calidad.</li>
            <li><strong>Bajo consumo energ√©tico</strong>: Los dispositivos son eficientes, ideales para operar con bater√≠as durante largos per√≠odos.</li>
            <li><strong>Mensajer√≠a cifrada</strong>: Los mensajes se env√≠an en canales con cifrado AES256, garantizando privacidad, aunque sin secreto perfecto hacia adelante.</li>
            <li><strong>C√≥digo abierto</strong>: Licencia GPL-3.0, con una comunidad activa en GitHub y Discord.</li>
            <li><strong>Compatibilidad multiplataforma</strong>: Apps para Android, iOS, web o CLI. Conexi√≥n v√≠a Bluetooth, Wi-Fi o USB.</li>
          </ul>
          <h3 id="meshtastic-como-funciona" className="text-xl font-semibold mb-2">C√≥mo funciona</h3>
          <ul className="list-disc pl-6 mb-4">
            <li><strong>Red de malla</strong>: Cada dispositivo act√∫a como nodo, enviando y retransmitiendo mensajes. Los nodos intermedios extienden el alcance.</li>
            <li><strong>Canales</strong>: Comunicaci√≥n en canales l√≥gicos con cifrado. El Canal 0 es p√∫blico; se pueden crear canales privados.</li>
            <li><strong>Enrutamiento</strong>: Usa inundaci√≥n gestionada con l√≠mite de saltos para evitar congesti√≥n.</li>
            <li><strong>MQTT (opcional)</strong>: Conecta nodos a internet para unir redes de malla distantes.</li>
          </ul>
          <h3 id="meshtastic-aplicaciones" className="text-xl font-semibold mb-2">Aplicaciones pr√°cticas</h3>
          <ul className="list-disc pl-6 mb-4">
            <li><strong>Aventuras al aire libre</strong>: Comunicaci√≥n en caminatas, esqu√≠ o parapente sin se√±al m√≥vil.</li>
            <li><strong>Emergencias</strong>: √ötil en desastres naturales o fallos de red.</li>
            <li><strong>IoT y seguimiento</strong>: Monitoreo de activos o sensores en √°reas remotas.</li>
            <li><strong>Exploraci√≥n espacial simulada</strong>: Usado por la Mars Society en misiones an√°logas.</li>
          </ul>
          <h3 className="text-xl font-semibold mb-2">Limitaciones</h3>
          <ul className="list-disc pl-6 mb-4">
            <li><strong>Solo texto</strong>: Limitado a mensajes de texto y datos peque√±os (GPS). Soporte de voz en desarrollo.</li>
            <li><strong>L√≠nea de visi√≥n</strong>: Obst√°culos como edificios reducen el alcance.</li>
            <li><strong>Congesti√≥n</strong>: Muchas nodos pueden saturar la red (soluciones como Short Turbo ayudan).</li>
            <li><strong>Necesidad de nodos</strong>: Requiere m√∫ltiples dispositivos para una red efectiva.</li>
          </ul>
          <p className="mb-4">Consulta el <a href="https://meshtastic.org/" className="text-blue-600 dark:text-blue-400 hover:underline">Sitio oficial de Meshtastic</a> para m√°s informaci√≥n.</p>
        </Section>
        <Section id="meshcore" title="¬øQu√© es Meshcore?">
          <p className="mb-4">Meshcore es una biblioteca C++ de c√≥digo abierto dise√±ada para crear redes de malla ligeras y descentralizadas utilizando radios LoRa, enfocada en proyectos embebidos. A diferencia de Meshtastic, que prioriza la comunicaci√≥n casual, y Reticulum, que ofrece redes avanzadas, Meshcore equilibra simplicidad y escalabilidad, ideal para soluciones personalizadas sin infraestructura de internet.</p>
          <h3 id="meshcore-caracteristicas" className="text-xl font-semibold mb-2">Caracter√≠sticas principales</h3>
          <ul className="list-disc pl-6 mb-4">
            <li><strong>Enrutamiento h√≠brido</strong>: Usa inundaci√≥n inicial para descubrir rutas y luego enrutamiento fijo para reducir tr√°fico. Solo repetidores retransmiten mensajes, minimizando congesti√≥n. Soporta hasta 64 saltos.</li>
            <li><strong>Bajo consumo</strong>: Optimizado para dispositivos con bater√≠a o solares, ya que los clientes no retransmiten, prolongando la vida √∫til de la bater√≠a.</li>
            <li><strong>Privacidad</strong>: Cifrado por defecto, sin exposici√≥n obligatoria de identidad. Los repetidores pueden priorizar o limitar tr√°fico, manteniendo control local.</li>
            <li><strong>Simplicidad</strong>: Biblioteca C++ ligera, no depende de Arduino. F√°cil de flashear con binarios precompilados usando herramientas como Adafruit ESPTool.</li>
            <li><strong>Licencia MIT</strong>: Permite uso comercial y modificaciones cerradas, a diferencia de la GPL-3.0 de Meshtastic.</li>
            <li><strong>Soporte de hardware</strong>: Compatible con Heltec, RAK Wireless, LILYGO (T-Beam, T-Deck), pero con menos dispositivos probados que Meshtastic.</li>
            <li><strong>Funciones premium</strong>: Algunas funciones (como soporte para "post office", grupos, calendarios) requieren una licencia de $11.</li>
          </ul>
          <h3 id="meshcore-como-funciona" className="text-xl font-semibold mb-2">C√≥mo funciona</h3>
          <ul className="list-disc pl-6 mb-4">
            <li><strong>Topolog√≠a jer√°rquica</strong>: Los repetidores manejan el enrutamiento, mientras que los clientes (chat, sensores) no retransmiten, reduciendo el uso del espectro.</li>
            <li><strong>Enrutamiento eficiente</strong>: Los mensajes inician con inundaci√≥n para encontrar una ruta, luego usan rutas fijas para env√≠os posteriores, reintentando con inundaci√≥n si falla.</li>
            <li><strong>Gesti√≥n remota</strong>: Los repetidores no aparecen en Bluetooth tras configurarse, gestionados solo v√≠a app, separando roles.</li>
            <li><strong>Room Servers</strong>: Servidores locales para grupos peque√±os, usando tr√°fico directo para minimizar congesti√≥n.</li>
          </ul>
          <h3 className="text-xl font-semibold mb-2">Aplicaciones pr√°cticas</h3>
          <ul className="list-disc pl-6 mb-4">
            <li><strong>Comunicaci√≥n off-grid</strong>: Mensajer√≠a en √°reas remotas sin internet.</li>
            <li><strong>Emergencias</strong>: Redes instant√°neas para desastres o rescates.</li>
            <li><strong>Aventuras al aire libre</strong>: Comunicaci√≥n para caminatas o campamentos.</li>
            <li><strong>T√°ctico y seguridad</strong>: Uso en operaciones militares o policiales.</li>
            <li><strong>IoT embebido</strong>: Redes de sensores personalizadas con bajo consumo.</li>
          </ul>
          <h3 className="text-xl font-semibold mb-2">Ventajas</h3>
          <ul className="list-disc pl-6 mb-4">
            <li>Enrutamiento m√°s eficiente, reduciendo congesti√≥n en redes grandes.</li>
            <li>Confirmaci√≥n clara de entrega de mensajes, mejorando confiabilidad.</li>
            <li>Bajo consumo energ√©tico, ideal para nodos solares o port√°tiles.</li>
            <li>Licencia MIT permite mayor flexibilidad para proyectos comerciales.</li>
          </ul>
          <h3 className="text-xl font-semibold mb-2">Limitaciones</h3>
          <ul className="list-disc pl-6 mb-4">
            <li><strong>Comunidad peque√±a</strong>: Menos soporte y nodos activos (ej.: limitada adopci√≥n en √°reas como Florida).</li>
            <li><strong>Menos funciones</strong>: Sin GPS en tiempo real ni soporte para sensores (como SenseCAP) por defecto. Funciones avanzadas requieren pago.</li>
            <li><strong>Roles fijos</strong>: Cambiar roles requiere reflasheo, a diferencia de Meshtastic.</li>
            <li><strong>Incompatibilidad</strong>: Usa la misma banda (868/915 MHz), pero no es compatible con Meshtastic, fragmentando redes.</li>
          </ul>
          <h3 id="meshcore-comparacion" className="text-xl font-semibold mb-2">Meshcore vs. Meshtastic: Comparaci√≥n</h3>
          <p className="mb-4">Ambas plataformas usan LoRa para redes de malla off-grid, pero difieren en dise√±o, enrutamiento y experiencia de usuario. A continuaci√≥n, una comparaci√≥n detallada:</p>
          <ComparisonTable />
          <p className="mt-4 mb-4">Consulta el <a href="https://github.com/meshcore-dev/MeshCore" className="text-blue-600 dark:text-blue-400 hover:underline">Repositorio oficial de Meshcore</a> para m√°s detalles.</p>
        </Section>
        <Section id="esp32" title="ESP32: El Coraz√≥n de Meshtastic">
          <p className="mb-4">El ESP32 es un microcontrolador System-on-Chip (SoC) de Espressif Systems, dise√±ado para IoT, con conectividad inal√°mbrica y bajo costo. Es ampliamente usado en dispositivos Meshtastic.</p>
          <h3 id="esp32-caracteristicas" className="text-xl font-semibold mb-2">Caracter√≠sticas principales</h3>
          <ul className="list-disc pl-6 mb-4">
            <li><strong>Procesador</strong>: Dual-core Tensilica Xtensa LX6, hasta 240 MHz, con modo ULP para bajo consumo.</li>
            <li><strong>Conectividad inal√°mbrica</strong>: Wi-Fi 802.11 b/g/n (2.4 GHz), Bluetooth v4.2 BR/EDR y BLE, LoRa con m√≥dulos externos.</li>
            <li><strong>Memoria</strong>: 520 KB SRAM, 448 KB ROM, hasta 16 MB flash externa.</li>
            <li><strong>Perif√©ricos</strong>: 34 pines GPIO, I2C, SPI, UART, ADC, DAC, PWM, sensores t√°ctiles.</li>
            <li><strong>Bajo consumo</strong>: Modos Deep Sleep (~5 ŒºA) y Light Sleep.</li>
            <li><strong>Seguridad</strong>: Cifrado por hardware (AES, SHA-2, RSA), Secure Boot, Flash Encryption.</li>
            <li><strong>Costo</strong>: $3-10 por m√≥dulo.</li>
          </ul>
          <h3 id="esp32-meshtastic" className="text-xl font-semibold mb-2">Relaci√≥n con Meshtastic</h3>
          <p className="mb-4">El ESP32 ejecuta el firmware Meshtastic, gestionando comunicaci√≥n LoRa, redes de malla y conexi√≥n con dispositivos externos (Bluetooth/Wi-Fi). Ejemplos: LILYGO T-Beam, Heltec Wireless Stick.</p>
          <h3 className="text-xl font-semibold mb-2">Configuraci√≥n para Meshtastic</h3>
          <ol className="list-decimal pl-6 mb-4">
            <li>Elige un dispositivo con LoRa (ej.: T-Beam, 915 MHz en Am√©rica).</li>
            <li>Flashea el firmware Meshtastic con Web Flasher o CLI.</li>
            <li>Conecta a la app Meshtastic (Bluetooth/Wi-Fi) y configura regi√≥n/canal.</li>
            <li>Usa una antena adecuada para evitar da√±os.</li>
            <li>Prueba enviando mensajes o GPS.</li>
          </ol>
          <h3 className="text-xl font-semibold mb-2">Aplicaciones</h3>
          <ul className="list-disc pl-6 mb-4">
            <li>Dom√≥tica: Control con Home Assistant.</li>
            <li>Rob√≥tica: Procesamiento en robots peque√±os.</li>
            <li>Sensores IoT: Monitoreo de temperatura, humedad.</li>
            <li>Wearables: Dispositivos con BLE.</li>
          </ul>
          <h3 className="text-xl font-semibold mb-2">Ventajas y limitaciones</h3>
          <ul className="list-disc pl-6 mb-4">
            <li><strong>Ventajas</strong>: Vers√°til, gran comunidad, compatible con Arduino/MicroPython.</li>
            <li><strong>Limitaciones</strong>: LoRa requiere m√≥dulos externos, necesita optimizaci√≥n para bajo consumo.</li>
          </ul>
          <p className="mb-4">Consulta el <a href="https://www.espressif.com/en/products/socs/esp32" className="text-blue-600 dark:text-blue-400 hover:underline">Sitio oficial de Espressif</a> para m√°s detalles.</p>
        </Section>
        <Section id="lilygo" title="LILYGO: Hardware para Meshtastic">
          <p className="mb-4">LILYGO es una marca que fabrica placas de desarrollo basadas en ESP32, ideales para Meshtastic, con m√≥dulos LoRa, GPS y pantallas integrados.</p>
          <h3 id="lilygo-caracteristicas" className="text-xl font-semibold mb-2">Caracter√≠sticas clave</h3>
          <ul className="list-disc pl-6 mb-4">
            <li><strong>Microcontroladores</strong>: ESP32, ESP32-S3, ESP32-C3 (bajo consumo).</li>
            <li><strong>M√≥dulos integrados</strong>: LoRa (SX1276/SX1262), GPS (NEO-6M), pantallas OLED/TFT, bater√≠as 18650/LiPo.</li>
            <li><strong>Compatibilidad</strong>: Arduino IDE, PlatformIO, MicroPython, ESP-IDF.</li>
            <li><strong>Costo</strong>: $8-40 por placa.</li>
          </ul>
          <h3 id="lilygo-productos" className="text-xl font-semibold mb-2">Productos destacados</h3>
          <ul className="list-disc pl-6 mb-4">
            <li><strong>TTGO T-Beam</strong>: ESP32, LoRa SX1276/SX1262, GPS, OLED opcional, bater√≠a 18650, $20-30.</li>
            <li><strong>T-Display</strong>: ESP32, pantalla TFT 1.14", USB-C, $8-16, sin LoRa nativo.</li>
            <li><strong>T-SIM7000G/T-A7670G</strong>: ESP32, LTE/GPRS, GPS, microSD, solar, $30-40.</li>
            <li><strong>T-Zigbee</strong>: ESP32-C3, Zigbee, bajo consumo, $9-10.</li>
            <li><strong>T-Echo</strong>: nRF52840, LoRa SX1262, E-Ink, GPS, case, $30-40.</li>
            <li><strong>T-Embed CC1101</strong>: ESP32-S3, pantalla TFT 1.9", sub-1 GHz, $20-30.</li>
          </ul>
          <h3 className="text-xl font-semibold mb-2">Relaci√≥n con Meshtastic</h3>
          <p className="mb-4">T-Beam y T-Echo son populares por su integraci√≥n de LoRa y GPS. LILYGO proporciona ejemplos para flashear firmware Meshtastic.</p>
          <h3 className="text-xl font-semibold mb-2">Configuraci√≥n</h3>
          <ol className="list-decimal pl-6 mb-4">
            <li>Elige placa (ej.: T-Beam, 868/915 MHz).</li>
            <li>Flashea firmware desde el sitio oficial de Meshtastic.</li>
            <li>Conecta antena y bater√≠a.</li>
            <li>Configura con la app Meshtastic.</li>
          </ol>
          <h3 className="text-xl font-semibold mb-2">Desaf√≠os</h3>
          <ul className="list-disc pl-6 mb-4">
            <li>Documentaci√≥n limitada para algunas placas.</li>
            <li>Problemas ocasionales de estabilidad.</li>
            <li>Necesita configuraci√≥n inicial (Arduino IDE).</li>
          </ul>
          <p className="mb-4">Compra en el <a href="https://www.lilygo.cc/" className="text-blue-600 dark:text-blue-400 hover:underline">Sitio oficial de LILYGO</a>.</p>
        </Section>
        <Section id="equipos" title="Equipos Necesarios para una Malla Meshtastic">
          <p className="mb-4">Para montar una red de malla Meshtastic necesitas al menos dos nodos que usen LoRa (SX126x/LR11xx) en la frecuencia regional (915 MHz en Am√©rica, 868 MHz en Europa). Recomendamos ESP32 (econ√≥mico) o nRF52 (bajo consumo).</p>
          <h3 className="text-xl font-semibold mb-2">Dispositivos Principales</h3>
          <EquipmentTable />
          <h3 className="text-xl font-semibold mt-6 mb-2">Accesorios Esenciales</h3>
          <ul className="list-disc pl-6 mb-4">
            <li><strong>Antenas</strong>: Obligatorias. 3-5 dBi ($5-10) para port√°tiles, 9 dBi ($10-20) para nodos fijos. Verifica frecuencia (915 MHz, 868 MHz).</li>
            <li><strong>Fuentes de poder</strong>: Bater√≠as 18650 ($5-10), LiPo, o paneles solares ($10-20) con reguladores. Cargadores USB-C para configuraci√≥n.</li>
            <li><strong>Cases</strong>: Impermeables IP67 ($5-15). T-Echo incluye case.</li>
            <li><strong>Cables</strong>: USB-C para flasheo, adaptadores SMA para antenas.</li>
          </ul>
          <h3 className="text-xl font-semibold mb-2">Herramientas de Configuraci√≥n</h3>
          <ul className="list-disc pl-6 mb-4">
            <li><strong>Smartphone</strong>: App Meshtastic (Android/iOS, gratis) para configurar canales y enviar mensajes.</li>
            <li><strong>Computadora</strong>: Para flashear firmware con Meshtastic Web Flasher (Chrome/Edge).</li>
            <li><strong>Opcionales</strong>: GPS externo ($10-20) si no est√° integrado, sensores adicionales para IoT.</li>
          </ul>
          <h3 className="text-xl font-semibold mb-2">Costo Total Estimado</h3>
          <p className="mb-4">Para 2 nodos b√°sicos (T-Beam + antenas + bater√≠as): $60-80. Con solares y cases: $100-150.</p>
          <h3 className="text-xl font-semibold mb-2">Pasos para Montar la Malla</h3>
          <ol className="list-decimal pl-6 mb-4">
            <li>Compra dispositivos compatibles (ver tabla, verifica frecuencia).</li>
            <li>Flashea firmware desde el sitio oficial de Meshtastic.</li>
            <li>Conecta antenas y bater√≠as.</li>
            <li>Configura v√≠a app: Elige rol (Client/Router).</li>
            <li>Prueba enviando mensajes entre nodos.</li>
          </ol>
          <p className="mb-4">Consulta la <a href="https://meshtastic.org/docs/hardware/devices/" className="text-blue-600 dark:text-blue-400 hover:underline">Lista de dispositivos compatibles con Meshtastic</a>.</p>
        </Section>
        <VideoResources />
        <FAQ />
        <footer className="bg-gray-800 dark:bg-gray-900 text-white p-4">
          <div className="container mx-auto text-center">
            <p>¬© 2025 Gu√≠a de Redes de Malla. Referencias: 
              <a href="https://meshtastic.org/" className="underline">Meshtastic</a>, 
              <a href="https://github.com/meshcore-dev/MeshCore" className="underline">Meshcore</a>, 
              <a href="https://www.lilygo.cc/" className="underline">LILYGO</a>, 
              <a href="https://www.espressif.com/en/products/socs/esp32" className="underline">Espressif</a>.
            </p>
          </div>
        </footer>
        <button 
          onClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })} 
          className="fixed bottom-4 right-4 bg-blue-600 dark:bg-blue-900 text-white p-2 rounded-full hover:bg-blue-700 dark:hover:bg-blue-800 shadow-md"
        >
          ‚Üë Volver arriba
        </button>
      </div>
    );

    // Renderizar con manejo de errores
    try {
      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<App />);
      document.getElementById('loading').style.display = 'none';
      document.getElementById('fallback').style.display = 'none';
    } catch (error) {
      console.error('Error al renderizar:', error);
      document.getElementById('loading').style.display = 'none';
      document.getElementById('fallback').style.display = 'block';
    }
  </script>
</body>
</html>